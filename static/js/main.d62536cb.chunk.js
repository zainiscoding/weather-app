(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{23:function(e,t,r){},24:function(e,t,r){},25:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r(2),n=r.n(c),i=r(9),s=r.n(i),o=r(4),d=r(3),h=r.n(d),l=r(5),u=function(e){return Object(a.jsx)("div",{id:"city-search-wrapper",children:Object(a.jsx)("div",{id:"city-search-wrapper__inputs-wrapper",children:Object(a.jsxs)("div",{id:"city-search-wrapper__inputs-wrapper__clearbox",children:[Object(a.jsx)("input",{id:"city-search-wrapper__search-bar",type:"text",placeholder:"Enter a city",onChange:e.checkForEmptyLocation}),Object(a.jsx)("button",{id:"city-search-wrapper__search-button",onClick:e.getCoordinatesByCity,onMouseEnter:function(e){return e.target.id="city-search-wrapper__search-button--color"},children:"Search"})]})})})},p=function(e){function t(){navigator.geolocation.getCurrentPosition(function(){var t=Object(l.a)(h.a.mark((function t(r){var a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://geocode.xyz/".concat(r.coords.latitude,",").concat(r.coords.longitude,"?geoit=json"),{mode:"cors"});case 3:return a=t.sent,t.next=6,a.json();case 6:c=t.sent,e.setLocation({latitude:r.coords.latitude,longitude:r.coords.longitude,city:"".concat(c.city)}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),e.setWeatherError(!0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())}function r(){return(r=Object(l.a)(h.a.mark((function t(r){var a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===r.target.previousSibling||r.target.previousSibling.value===e.location.city){t.next=21;break}return console.log(r.target.previousSibling.value),e.setWeather(),t.prev=3,t.next=6,fetch("https://geocode.xyz/".concat(r.target.previousSibling.value,"?json=1"),{mode:"cors"});case 6:return a=t.sent,t.next=9,a.json();case 9:if(null!==(c=t.sent).matches){t.next=14;break}throw e.setWeatherError(!0);case 14:e.setLocation({latitude:c.latt,longitude:c.longt,city:c.standard.city});case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(3),console.log(t.t0),e.setWeatherError(!0);case 21:case"end":return t.stop()}}),t,null,[[3,17]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){t()}),[]),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(u,{getCoordinatesByCity:function(e){return r.apply(this,arguments)},checkForEmptyLocation:function(e){0===e.target.value.length&&t()}})})},j=r(10),b=r(11);var w=function(){return Object(a.jsx)("div",{id:"display-weather-error-wrapper",children:Object(a.jsx)("h2",{children:"Sorry, we can't seem to find the weather for your area. Please check the city name."})})},x=function(e){return Object(a.jsxs)("div",{id:"display-weather-wrapper__current-weather",children:[Object(a.jsxs)("div",{id:"display-weather-wrapper__degrees-wrapper",children:["undefined"!==e.city&&Object(a.jsxs)("h2",{id:"current-temp-text",children:["It's ",e.weather.current.temp,"\xb0 in ",e.city,"."]}),"undefined"===e.city&&Object(a.jsxs)("h2",{children:["It's ",Math.round(e.weather.current.temp),"\xb0 in your city."]})]}),Object(a.jsxs)("div",{id:"current-weather__icon-description-wrapper",children:[Object(a.jsx)("img",{src:e.weatherIcon,alt:"current weather icon"}),Object(a.jsx)("p",{children:e.weather.current.weather[0].description.charAt(0).toUpperCase()+e.weather.current.weather[0].description.slice(1)})]}),Object(a.jsxs)("div",{id:"current-weather__details-box",children:[Object(a.jsx)("div",{className:"details-box__detail",children:Object(a.jsxs)("p",{className:"detail__text",children:["Feels like: ",Math.round(e.weather.current.feels_like),"\xb0"]})}),Object(a.jsx)("div",{className:"details-box__detail",children:Object(a.jsxs)("p",{className:"detail__text",children:["Humidity: ",e.weather.current.humidity,"%"]})}),Object(a.jsx)("div",{className:"details-box__detail",children:Object(a.jsxs)("p",{className:"detail__text",children:["UV Index: ",e.weather.current.uvi]})})]})]})},O=r(27),y=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{id:"daily-weather__title",children:"8-day Forecast"}),Object(a.jsx)("div",{id:"display-weather-wrapper__daily-weather",children:Object(a.jsx)("div",{id:"daily-weather__carousel",children:Object(a.jsx)("div",{id:"carousel__daily-weather",children:e.weather.daily.map((function(t,r){return Object(a.jsxs)("div",{className:"display-weather-wrapper__day",children:[Object(a.jsxs)("p",{children:[Object(O.a)(e.currentDay,{days:e.weather.daily.indexOf(t)}).getMonth()+1,"/",Object(O.a)(e.currentDay,{days:e.weather.daily.indexOf(t)}).getDate()+1]}),Object(a.jsx)("img",{src:"http://openweathermap.org/img/wn/"+t.weather[0].icon+".png",alt:"Day weather icon"}),Object(a.jsx)("div",{id:"daily-weather__details-box",children:Object(a.jsx)("div",{className:"details-box__detail",children:Object(a.jsxs)("p",{className:"detail__text",children:[Math.round(t.temp.max),"\xb0 / ",Math.round(t.temp.min),"\xb0"]})})})]},r)}))})})})]})},f=function(e){return Object(a.jsxs)(a.Fragment,{children:[!0===e.weatherError&&Object(a.jsx)(w,{}),!1===e.weatherError&&Object(a.jsxs)("div",{id:"display-weather-wrapper",children:[void 0===e.weather&&e.loadingIcon,void 0!==e.weather&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x,{weather:e.weather,weatherIcon:e.weatherIcon,city:e.location.city}),Object(a.jsx)(y,{weather:e.weather,weatherIcon:e.weatherIcon,currentDay:e.currentDay}),Object(a.jsx)("button",{id:"display-weather-wrapper__change-units-button",onMouseEnter:function(e){return e.target.id="display-weather-wrapper__change-units-button--color"},onClick:e.changeUnits,children:"\xb0C / \xb0F"})]})]})]})},g=function(e){var t=Object(c.useState)("metric"),r=Object(o.a)(t,2),n=r[0],i=r[1],s=Object(c.useState)(""),d=Object(o.a)(s,2),u=d[0],p=d[1],w=Object(c.useState)(""),x=Object(o.a)(w,2),O=x[0],y=x[1],g=Object(c.useRef)(!0),v="7c96ea14ab892a5bb3382ee2bb277434",m=Object(a.jsx)(j.a,{icon:b.a,size:"4x",className:"fa-spin"}),_=new Date;function k(e){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(h.a.mark((function t(r){var a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.json();case 2:a=t.sent,e.setWeather(a),void 0===(c=a.current.weather[0]).icon&&p("Loading..."),p("http://openweathermap.org/img/wn/"+c.icon+"@2x.png"),e.setWeatherError(!1);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return(S=Object(l.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.location.latitude,"&lon=").concat(e.location.longitude,"&exclude=minutely,alerts&units=").concat(n,"&appid=").concat(v),{mode:"cors"});case 3:if(!1!==(r=t.sent).ok){t.next=8;break}throw e.setWeatherError(!0);case 8:k(r);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function I(){return(I=Object(l.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i("metric"===n?"imperial":"metric");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){g.current?g.current=!1:(!function(){S.apply(this,arguments)}(),y(_))}),[e.location,n]),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(f,{weather:e.weather,changeUnits:function(){return I.apply(this,arguments)},weatherIcon:u,loadingIcon:m,weatherError:e.weatherError,location:e.location,currentDay:O})})};var v=function(){return Object(a.jsx)("div",{id:"display-github-link-wrapper",children:Object(a.jsx)("a",{href:"https://github.com/zainiscoding/weather-app",target:" ",children:"View on GitHub"})})},m=(r(23),r(24),function(){var e=Object(c.useState)({}),t=Object(o.a)(e,2),r=t[0],n=t[1],i=Object(c.useState)(),s=Object(o.a)(i,2),d=s[0],h=s[1],l=Object(c.useState)(!1),u=Object(o.a)(l,2),j=u[0],b=u[1];return Object(a.jsxs)("div",{id:"App",children:[Object(a.jsx)(p,{location:r,setLocation:n,setWeather:h,setWeatherError:b}),Object(a.jsx)(g,{weather:d,setWeather:h,location:r,weatherError:j,setWeatherError:b}),Object(a.jsx)(v,{})]})});s.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.d62536cb.chunk.js.map